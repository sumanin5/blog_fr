// This file is auto-generated by @hey-api/openapi-ts

import {
  type Client,
  type Options as Options2,
  type TDataShape,
  urlSearchParamsBodySerializer,
} from "./client";
import { client } from "./client.gen";
import type {
  DeleteCurrentUserAccountData,
  DeleteCurrentUserAccountResponses,
  DeleteUserByIdData,
  DeleteUserByIdErrors,
  DeleteUserByIdResponses,
  GetCurrentUserInfoData,
  GetCurrentUserInfoResponses,
  GetUserByIdData,
  GetUserByIdErrors,
  GetUserByIdResponses,
  GetUsersListData,
  GetUsersListErrors,
  GetUsersListResponses,
  LoginData,
  LoginErrors,
  LoginResponses,
  ReadRootData,
  ReadRootResponses,
  RegisterUserData,
  RegisterUserErrors,
  RegisterUserResponses,
  UpdateCurrentUserInfoData,
  UpdateCurrentUserInfoErrors,
  UpdateCurrentUserInfoResponses,
  UpdateUserByIdData,
  UpdateUserByIdErrors,
  UpdateUserByIdResponses,
} from "./types.gen";

export type Options<
  TData extends TDataShape = TDataShape,
  ThrowOnError extends boolean = boolean,
> = Options2<TData, ThrowOnError> & {
  /**
   * You can provide a client instance returned by `createClient()` instead of
   * individual options. This might be also useful if you want to implement a
   * custom client.
   */
  client?: Client;
  /**
   * You can pass arbitrary values through the `meta` object. This can be
   * used to access values that aren't defined as part of the SDK function.
   */
  meta?: Record<string, unknown>;
};

/**
 * Read Root
 */
export const readRoot = <ThrowOnError extends boolean = false>(
  options?: Options<ReadRootData, ThrowOnError>,
) =>
  (options?.client ?? client).get<ReadRootResponses, unknown, ThrowOnError>({
    url: "/",
    ...options,
  });

/**
 * 注册新用户
 *
 * 创建一个新用户账号（默认普通用户权限）
 */
export const registerUser = <ThrowOnError extends boolean = false>(
  options: Options<RegisterUserData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    RegisterUserResponses,
    RegisterUserErrors,
    ThrowOnError
  >({
    url: "/users/register",
    ...options,
    headers: {
      "Content-Type": "application/json",
      ...options.headers,
    },
  });

/**
 * 用户登录
 *
 * 使用用户名/邮箱和密码登录
 */
export const login = <ThrowOnError extends boolean = false>(
  options: Options<LoginData, ThrowOnError>,
) =>
  (options.client ?? client).post<LoginResponses, LoginErrors, ThrowOnError>({
    ...urlSearchParamsBodySerializer,
    url: "/users/login",
    ...options,
    headers: {
      "Content-Type": "application/x-www-form-urlencoded",
      ...options.headers,
    },
  });

/**
 * 删除当前用户
 *
 * 删除当前登录用户的账号
 */
export const deleteCurrentUserAccount = <ThrowOnError extends boolean = false>(
  options?: Options<DeleteCurrentUserAccountData, ThrowOnError>,
) =>
  (options?.client ?? client).delete<
    DeleteCurrentUserAccountResponses,
    unknown,
    ThrowOnError
  >({
    security: [{ scheme: "bearer", type: "http" }],
    url: "/users/me",
    ...options,
  });

/**
 * 获取当前用户信息
 *
 * 获取当前登录用户的详细信息
 */
export const getCurrentUserInfo = <ThrowOnError extends boolean = false>(
  options?: Options<GetCurrentUserInfoData, ThrowOnError>,
) =>
  (options?.client ?? client).get<
    GetCurrentUserInfoResponses,
    unknown,
    ThrowOnError
  >({
    security: [{ scheme: "bearer", type: "http" }],
    url: "/users/me",
    ...options,
  });

/**
 * 更新当前用户信息
 *
 * 部分更新当前登录用户的信息
 */
export const updateCurrentUserInfo = <ThrowOnError extends boolean = false>(
  options: Options<UpdateCurrentUserInfoData, ThrowOnError>,
) =>
  (options.client ?? client).patch<
    UpdateCurrentUserInfoResponses,
    UpdateCurrentUserInfoErrors,
    ThrowOnError
  >({
    security: [{ scheme: "bearer", type: "http" }],
    url: "/users/me",
    ...options,
    headers: {
      "Content-Type": "application/json",
      ...options.headers,
    },
  });

/**
 * 获取用户列表
 *
 * 获取所有用户列表（仅管理员）
 */
export const getUsersList = <ThrowOnError extends boolean = false>(
  options?: Options<GetUsersListData, ThrowOnError>,
) =>
  (options?.client ?? client).get<
    GetUsersListResponses,
    GetUsersListErrors,
    ThrowOnError
  >({
    security: [{ scheme: "bearer", type: "http" }],
    url: "/users/",
    ...options,
  });

/**
 * 删除指定用户
 *
 * 删除指定用户（仅管理员）
 */
export const deleteUserById = <ThrowOnError extends boolean = false>(
  options: Options<DeleteUserByIdData, ThrowOnError>,
) =>
  (options.client ?? client).delete<
    DeleteUserByIdResponses,
    DeleteUserByIdErrors,
    ThrowOnError
  >({
    security: [{ scheme: "bearer", type: "http" }],
    url: "/users/{user_id}",
    ...options,
  });

/**
 * 获取指定用户信息
 *
 * 根据 ID 获取用户信息（仅管理员）
 */
export const getUserById = <ThrowOnError extends boolean = false>(
  options: Options<GetUserByIdData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    GetUserByIdResponses,
    GetUserByIdErrors,
    ThrowOnError
  >({
    security: [{ scheme: "bearer", type: "http" }],
    url: "/users/{user_id}",
    ...options,
  });

/**
 * 更新指定用户信息
 *
 * 部分更新指定用户的信息（仅管理员）
 */
export const updateUserById = <ThrowOnError extends boolean = false>(
  options: Options<UpdateUserByIdData, ThrowOnError>,
) =>
  (options.client ?? client).patch<
    UpdateUserByIdResponses,
    UpdateUserByIdErrors,
    ThrowOnError
  >({
    security: [{ scheme: "bearer", type: "http" }],
    url: "/users/{user_id}",
    ...options,
    headers: {
      "Content-Type": "application/json",
      ...options.headers,
    },
  });
