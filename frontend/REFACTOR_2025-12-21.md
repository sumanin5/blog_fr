# é¡¹ç›®é‡æ„è®°å½• (2025-12-21)

## ğŸ¯ é‡æ„ç›®æ ‡

å°†è¿‡åº¦åµŒå¥—çš„ Feature-First æ¶æ„æ‰å¹³åŒ–ï¼Œä½¿é¡¹ç›®ç»“æ„æ›´æ¸…æ™°æ˜“è¯»ã€‚

## ğŸ“‹ ä¸»è¦æ”¹åŠ¨

### 1. æ‰å¹³åŒ– `features/auth` ç›®å½•

**ä¹‹å‰çš„ç»“æ„ï¼ˆ7 å±‚ç›®å½•ï¼‰ï¼š**

```
features/auth/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ auth.ts
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useAuthQueries.ts
â”œâ”€â”€ store/
â”‚   â””â”€â”€ AuthContext.tsx
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ query-keys.ts
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ auth/
â”‚       â”œâ”€â”€ Login.tsx
â”‚       â””â”€â”€ Register.tsx
â”œâ”€â”€ components/ (ç©º)
â””â”€â”€ types/ (ç©º)
```

**ç°åœ¨çš„ç»“æ„ï¼ˆæ‰å¹³åŒ–ï¼‰ï¼š**

```
features/auth/
â”œâ”€â”€ AuthContext.tsx         # è®¤è¯ä¸Šä¸‹æ–‡
â”œâ”€â”€ useAuth.ts              # è®¤è¯ Hookï¼ˆç‹¬ç«‹æ–‡ä»¶ï¼Œä¿®å¤ Fast Refresh è­¦å‘Šï¼‰
â”œâ”€â”€ useAuthQueries.ts       # Query/Mutation Hooks
â”œâ”€â”€ auth-api.ts             # API è°ƒç”¨
â”œâ”€â”€ query-keys.ts           # æŸ¥è¯¢é”®å®šä¹‰
â””â”€â”€ index.ts                # ç»Ÿä¸€å¯¼å‡º
```

### 2. é¡µé¢å½’ä¸€åŒ–åˆ° `src/pages`

å°†æ‰€æœ‰é¡µé¢ç»„ä»¶ç»Ÿä¸€ç§»åŠ¨åˆ° `src/pages` ç›®å½•ä¸‹ï¼Œä¾¿äºè·¯ç”±ç®¡ç†ï¼š

```
pages/
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ Login.tsx           # ä» features/auth/pages/auth ç§»åŠ¨
â”‚   â””â”€â”€ Register.tsx        # ä» features/auth/pages/auth ç§»åŠ¨
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ BlogList.tsx
â”‚   â””â”€â”€ BlogDetail.tsx
â”œâ”€â”€ dashboard/
â”‚   â””â”€â”€ Dashboard.tsx
â”œâ”€â”€ sandbox/                # æ–°å¢ï¼šæµ‹è¯•å’Œæ¼”ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ CardTest.tsx        # ä» src/pages ç§»åŠ¨
â”‚   â”œâ”€â”€ MDXExample.tsx      # ä» src/pages ç§»åŠ¨
â”‚   â””â”€â”€ TestHighlight.tsx   # ä» src/pages ç§»åŠ¨
â”œâ”€â”€ About.tsx               # æ–°å»º
â”œâ”€â”€ HomePage.tsx
â””â”€â”€ NotFound.tsx
```

### 3. åˆ é™¤çš„ç©ºç›®å½•

- `features/auth/components/`
- `features/auth/types/`
- `features/auth/pages/`
- `features/auth/hooks/`
- `features/auth/api/`
- `features/auth/lib/`
- `features/auth/store/`

### 4. æ–‡ä»¶é‡å‘½å

- `features/auth/api/auth.ts` â†’ `features/auth/auth-api.ts`

### 5. æ›´æ–°çš„å¯¼å…¥è·¯å¾„

æ‰€æœ‰å¼•ç”¨äº†ç§»åŠ¨æ–‡ä»¶çš„åœ°æ–¹éƒ½å·²æ›´æ–°ï¼š

- âœ… `src/app/routes/Auth/index.tsx`
- âœ… `src/features/auth/index.ts`
- âœ… `src/features/auth/AuthContext.tsx`
- âœ… `src/features/auth/useAuthQueries.ts`
- âœ… `src/__tests__/pages/auth/Login.integration.test.tsx`
- âœ… `src/__tests__/pages/auth/Register.integration.test.tsx`

### 6. ä¿®å¤çš„ Lint é—®é¢˜

- âœ… **Fast Refresh è­¦å‘Š**ï¼šå°† `useAuth` hook ä» `AuthContext.tsx` ä¸­åˆ†ç¦»å‡ºæ¥æˆä¸ºç‹¬ç«‹æ–‡ä»¶
- âœ… **æœªä½¿ç”¨çš„å¯¼å…¥**ï¼šä» `AuthContext.tsx` ä¸­ç§»é™¤äº† `useContext`

## ğŸ“š æ¶æ„åŸåˆ™

### ä»€ä¹ˆæ—¶å€™åˆ›å»ºå­ç›®å½•ï¼Ÿ

åªæœ‰å½“æ–‡ä»¶æ•°é‡è¶…è¿‡ **3 ä¸ªä»¥ä¸Š** æ—¶æ‰åˆ›å»ºå­ç›®å½•ã€‚ä¾‹å¦‚ï¼š

- âœ… `features/auth/` åªæœ‰ 6 ä¸ªæ–‡ä»¶ï¼Œç›´æ¥å¹³é“º
- âœ… `pages/auth/` åªæœ‰ 2 ä¸ªæ–‡ä»¶ï¼Œä¸éœ€è¦å†ç»†åˆ†
- âŒ ä¸è¦ä¸ºäº†"è§„èŒƒ"è€Œå¼ºè¡Œåˆ›å»ºç©ºç›®å½•

### é¡µé¢æ”¾åœ¨å“ªé‡Œï¼Ÿ

- **ç»Ÿä¸€æ”¾åœ¨ `src/pages`**ï¼šè¿™æ˜¯è·¯ç”±çš„å”¯ä¸€å…¥å£
- **ä¸è¦åœ¨ feature å†…å»º pages ç›®å½•**ï¼šè¿™ä¼šå¯¼è‡´"ä¸¤å¤´æ‰¾"çš„æ··ä¹±

### æµ‹è¯•æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Ÿ

- **ä¸´æ—¶æµ‹è¯• / æ¼”ç¤ºé¡µé¢**ï¼š`src/pages/sandbox/`
- **å•å…ƒæµ‹è¯•**ï¼š`src/__tests__/`

## âœ¨ é‡æ„æ•ˆæœ

### å¯¼èˆªæ•ˆç‡æå‡

**ä¹‹å‰**ï¼šæ‰¾åˆ°ç™»å½•é¡µé¢éœ€è¦ 5 æ¬¡ç‚¹å‡»

```
src â†’ features â†’ auth â†’ pages â†’ auth â†’ Login.tsx
```

**ç°åœ¨**ï¼šåªéœ€è¦ 3 æ¬¡ç‚¹å‡»

```
src â†’ pages â†’ auth â†’ Login.tsx
```

### æ–‡ä»¶ç»“æ„æ¸…æ™°

```
src/
â”œâ”€â”€ app/         # åº”ç”¨é…ç½®
â”œâ”€â”€ features/    # ä¸šåŠ¡é€»è¾‘ï¼ˆæ‰å¹³åŒ–ï¼‰
â”œâ”€â”€ pages/       # é¡µé¢ç»„ä»¶ï¼ˆå”¯ä¸€ï¼‰
â””â”€â”€ shared/      # é€šç”¨èµ„æº
```

## ğŸ”„ åç»­å»ºè®®

1. **blog feature** ä¹Ÿå¯ä»¥æŒ‰ç…§åŒæ ·çš„æ–¹å¼æ‰å¹³åŒ–
2. è€ƒè™‘åˆ é™¤ `features/theme-backup` ç›®å½•ï¼ˆå¦‚æœä¸å†éœ€è¦ï¼‰
3. å°† `shared/contexts` ç›®å½•åˆå¹¶åˆ°å¯¹åº”çš„ features ä¸­ï¼ˆå¦‚æœåªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼‰

## ğŸ“– å‚è€ƒæ–‡æ¡£

- æ›´æ–°åçš„ `PROJECT_STRUCTURE.md`
- [Feature-Sliced Design](https://feature-sliced.design/) - å‚è€ƒäº†å…¶è®¾è®¡ç†å¿µï¼Œä½†é’ˆå¯¹blogé¡¹ç›®åšäº†ç®€åŒ–
