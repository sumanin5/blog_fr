# OpenAPI è‡ªåŠ¨ç”Ÿæˆä»£ç è¯¦è§£

> ğŸ¯ æœ¬æ–‡æ¡£ç”¨ç”ŸåŠ¨çš„æ¯”å–»è§£é‡Šè‡ªåŠ¨ç”Ÿæˆçš„ TypeScript ä»£ç æ˜¯ä»€ä¹ˆã€ä¸ºä»€ä¹ˆéœ€è¦å®ƒä»¬ã€ä»¥åŠå¦‚ä½•ä½¿ç”¨ã€‚

---

## ç›®å½•

1. [ä¸€ä¸ªå½¢è±¡çš„æ¯”å–»](#ä¸€ä¸ªå½¢è±¡çš„æ¯”å–»)
2. [ç”Ÿæˆçš„æ–‡ä»¶æ¸…å•](#ç”Ÿæˆçš„æ–‡ä»¶æ¸…å•)
3. [æ¯ä¸ªæ–‡ä»¶çš„ä½œç”¨è¯¦è§£](#æ¯ä¸ªæ–‡ä»¶çš„ä½œç”¨è¯¦è§£)
4. [è¿™äº›ä»£ç æ˜¯é€šç”¨çš„å—ï¼Ÿ](#è¿™äº›ä»£ç æ˜¯é€šç”¨çš„å—)
5. [ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›ä»£ç ï¼Ÿ](#ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›ä»£ç )
6. [å®Œæ•´çš„å·¥ä½œæµç¨‹](#å®Œæ•´çš„å·¥ä½œæµç¨‹)

---

## ä¸€ä¸ªå½¢è±¡çš„æ¯”å–»

æƒ³è±¡ä½ è¦å»ä¸€å®¶æ–°å¼€çš„é¤å…åƒé¥­...

### ğŸ½ï¸ æ²¡æœ‰è‡ªåŠ¨ç”Ÿæˆä»£ç æ—¶

```
ä½ ï¼šè€æ¿ï¼Œä½ ä»¬æœ‰ä»€ä¹ˆèœï¼Ÿ
è€æ¿ï¼šå¾ˆå¤šå¾ˆå¤šï¼Œä½ è‡ªå·±çœ‹å¢™ä¸Šçš„é»‘æ¿å§ï¼ˆæ–‡æ¡£ï¼‰
ä½ ï¼šå¥½çš„...ï¼ˆä»”ç»†æŠ„å†™èœåã€ä»·æ ¼ã€é…æ–™ï¼‰
ä½ ï¼šæˆ‘è¦ç‚¹è¿™ä¸ªèœï¼Œå‘ƒ...åå­—æ€ä¹ˆæ‹¼æ¥ç€ï¼Ÿ
ä½ ï¼šä»·æ ¼æ˜¯å¤šå°‘ï¼Ÿè¦ä¸è¦åŠ è¾£ï¼Ÿ
ï¼ˆä¸€ä¸å°å¿ƒå†™é”™äº†èœåï¼Œå¨å¸ˆåšé”™äº†èœï¼‰
```

è¿™å°±åƒæ‰‹å†™ API è°ƒç”¨ä»£ç ï¼š**å®¹æ˜“å‡ºé”™ã€æ•ˆç‡ä½ä¸‹ã€ç»´æŠ¤å›°éš¾**ã€‚

### ğŸ½ï¸ æœ‰äº†è‡ªåŠ¨ç”Ÿæˆä»£ç å

```
ä½ ï¼šè€æ¿ï¼Œç»™æˆ‘ä¸€ä»½èœå•ï¼
è€æ¿ï¼šç»™ä½ ï¼ï¼ˆé€’è¿‡æ¥ä¸€ä»½å°åˆ·ç²¾ç¾çš„èœå•ï¼‰
èœå•ä¸Šå†™ç€ï¼š
  - å®«ä¿é¸¡ä¸ Â¥28 | å¯é€‰ï¼šå¾®è¾£/ä¸­è¾£/ç‰¹è¾£
  - é±¼é¦™è‚‰ä¸ Â¥25 | é…æ–™ï¼šæœ¨è€³ã€é’æ¤’
ä½ ï¼šï¼ˆæŒ‡ç€èœå•ï¼‰æˆ‘è¦è¿™ä¸ªï¼
è€æ¿ï¼šæ”¶åˆ°ï¼Œç»å¯¹ä¸ä¼šåšé”™ï¼
```

è¿™å°±æ˜¯è‡ªåŠ¨ç”Ÿæˆä»£ç çš„ä½œç”¨ï¼š**è§„èŒƒã€å‡†ç¡®ã€é«˜æ•ˆ**ã€‚

---

## ç”Ÿæˆçš„æ–‡ä»¶æ¸…å•

è¿è¡Œ `npm run api:generate` åï¼Œåœ¨ `src/api/` ç›®å½•ä¸‹ä¼šç”Ÿæˆè¿™äº›æ–‡ä»¶ï¼š

```
src/api/
â”œâ”€â”€ ğŸ“„ index.ts           # é—¨é¢æ¥å¾…å‘˜
â”œâ”€â”€ ğŸ“„ types.gen.ts       # èœå•å†Œï¼ˆç±»å‹å®šä¹‰ï¼‰
â”œâ”€â”€ ğŸ“„ sdk.gen.ts         # ç‚¹èœæœºï¼ˆAPI è°ƒç”¨å‡½æ•°ï¼‰
â”œâ”€â”€ ğŸ“„ client.gen.ts      # æœåŠ¡å‘˜ï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰
â”œâ”€â”€ ğŸ“„ config.ts          # é¤å…è§„åˆ™ï¼ˆâš ï¸ æ‰‹åŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ ğŸ“ client/            # æœåŠ¡å‘˜çš„å·¥å…·ç®±
â”‚   â”œâ”€â”€ client.gen.ts
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ types.gen.ts
â”‚   â””â”€â”€ utils.gen.ts
â””â”€â”€ ğŸ“ core/              # åå¨å·¥å…·é—´
    â”œâ”€â”€ auth.gen.ts       # ä¼šå‘˜å¡éªŒè¯
    â”œâ”€â”€ bodySerializer.gen.ts
    â”œâ”€â”€ params.gen.ts
    â””â”€â”€ ...
```

---

## æ¯ä¸ªæ–‡ä»¶çš„ä½œç”¨è¯¦è§£

### ğŸ“„ `types.gen.ts` â€” èœå•å†Œ

**æ¯”å–»**ï¼šè¿™æ˜¯é¤å…çš„**å®Œæ•´èœå•**ï¼Œè®°å½•äº†ï¼š

- æ¯é“èœå«ä»€ä¹ˆåå­—
- éœ€è¦ä»€ä¹ˆé…æ–™ï¼ˆå¿…å¡«/å¯é€‰ï¼‰
- åšå‡ºæ¥é•¿ä»€ä¹ˆæ ·

**å®é™…ä½œç”¨**ï¼šå®šä¹‰æ‰€æœ‰ TypeScript ç±»å‹

```typescript
// ğŸ‘¤ ç”¨æˆ·æ³¨å†Œéœ€è¦ä»€ä¹ˆä¿¡æ¯ï¼Ÿï¼ˆç‚¹èœéœ€è¦ä»€ä¹ˆï¼Ÿï¼‰
export type UserRegister = {
  username: string; // å¿…å¡«ï¼šç”¨æˆ·å
  email: string; // å¿…å¡«ï¼šé‚®ç®±
  password: string; // å¿…å¡«ï¼šå¯†ç 
  full_name?: string; // å¯é€‰ï¼šå…¨åï¼ˆåŠ ä¸åŠ é…èœéšä½ ï¼‰
  bio?: string; // å¯é€‰ï¼šç®€ä»‹
};

// ğŸ‘¤ ç”¨æˆ·ä¿¡æ¯é•¿ä»€ä¹ˆæ ·ï¼Ÿï¼ˆèœåšå¥½æ˜¯ä»€ä¹ˆæ ·ï¼Ÿï¼‰
export type UserResponse = {
  id: string;
  username: string;
  email: string;
  is_active: boolean;
  role: "user" | "admin" | "superadmin"; // åªèƒ½æ˜¯è¿™ä¸‰ç§ï¼
  created_at: string;
  // ...
};
```

**ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ**

- âœ… ç¼–è¾‘å™¨è‡ªåŠ¨æç¤ºï¼šè¾“å…¥ `user.` è‡ªåŠ¨å¼¹å‡ºæ‰€æœ‰å­—æ®µ
- âœ… ç¼–è¯‘æ—¶æ£€æŸ¥ï¼šå†™é”™å­—æ®µåï¼Ÿç«‹åˆ»æ ‡çº¢æŠ¥é”™ï¼
- âœ… å‰åç«¯ä¸€è‡´ï¼šç±»å‹ç›´æ¥ä»åç«¯ç”Ÿæˆï¼Œä¸ä¼šå¯¹ä¸ä¸Š

---

### ğŸ“„ `sdk.gen.ts` â€” æ™ºèƒ½ç‚¹èœæœº

**æ¯”å–»**ï¼šè¿™æ˜¯é¤å…çš„**è‡ªåŠ©ç‚¹èœæœº**ï¼š

- ä½ æŒ‰ä¸€ä¸ªæŒ‰é’®ï¼Œèœå°±ç‚¹å¥½äº†
- ä¸ç”¨è‡ªå·±å†™è®¢å•ã€ä¸ç”¨è‡ªå·±é€åˆ°å¨æˆ¿
- æ‰€æœ‰ç»†èŠ‚éƒ½å¸®ä½ å¤„ç†å¥½äº†

**å®é™…ä½œç”¨**ï¼šå°è£…å¥½çš„ API è°ƒç”¨å‡½æ•°

```typescript
// ç‚¹ä¸€é“èœåªéœ€è¦ä¸€è¡Œä»£ç ï¼
const result = await registerUserUsersRegisterPost({
  body: {
    username: "alice",
    email: "alice@example.com",
    password: "secret123",
  },
});

// è‡ªåŠ¨å¤„ç†äº†ï¼š
// âœ… HTTP æ–¹æ³•ï¼ˆPOSTï¼‰
// âœ… è¯·æ±‚è·¯å¾„ï¼ˆ/users/registerï¼‰
// âœ… Content-Typeï¼ˆapplication/jsonï¼‰
// âœ… è¯·æ±‚ä½“åºåˆ—åŒ–
// âœ… å“åº”è§£æ
```

**ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ**

- âœ… ä¸ç”¨è®° URLï¼šå‡½æ•°åå°±æ˜¯æ“ä½œå
- âœ… ä¸ç”¨è®°æ–¹æ³•ï¼šPOST/GET/PUT/DELETE éƒ½å¸®ä½ å†™å¥½äº†
- âœ… å‚æ•°æœ‰æç¤ºï¼šç¼–è¾‘å™¨å‘Šè¯‰ä½ éœ€è¦ä¼ ä»€ä¹ˆ

---

### ğŸ“„ `client.gen.ts` â€” æœåŠ¡å‘˜

**æ¯”å–»**ï¼šè¿™æ˜¯é¤å…çš„**æœåŠ¡å‘˜**ï¼š

- æ¥æ”¶ä½ çš„è®¢å•
- é€åˆ°å¨æˆ¿
- æŠŠåšå¥½çš„èœç«¯å›æ¥

**å®é™…ä½œç”¨**ï¼šHTTP å®¢æˆ·ç«¯å®ä¾‹

```typescript
// æœåŠ¡å‘˜è¯ç”Ÿï¼
export const client = createClient(createConfig());

// æ‰€æœ‰ç‚¹èœæœºï¼ˆSDK å‡½æ•°ï¼‰éƒ½é€šè¿‡è¿™ä¸ªæœåŠ¡å‘˜å·¥ä½œ
```

---

### ğŸ“„ `config.ts` â€” é¤å…è§„åˆ™ï¼ˆâš ï¸ æ‰‹åŠ¨åˆ›å»ºï¼‰

**æ¯”å–»**ï¼šè¿™æ˜¯**é¤å…çš„è§„çŸ©**ï¼š

- é¤å…åœ°å€åœ¨å“ªé‡Œ
- ä¼šå‘˜å¡æ€ä¹ˆéªŒè¯
- é‡åˆ°é—®é¢˜æ€ä¹ˆå¤„ç†

**å®é™…ä½œç”¨**ï¼šé…ç½® baseUrlã€Tokenã€æ‹¦æˆªå™¨

```typescript
// é¤å…åœ°å€
client.setConfig({
  baseUrl: "http://localhost:8000",
});

// ä¼šå‘˜å¡éªŒè¯ï¼ˆæ¯æ¬¡ç‚¹èœè‡ªåŠ¨å‡ºç¤ºï¼‰
client.interceptors.request.use((request) => {
  const token = localStorage.getItem("access_token");
  if (token) {
    request.headers.set("Authorization", `Bearer ${token}`);
  }
  return request;
});
```

**ä¸ºä»€ä¹ˆæ˜¯æ‰‹åŠ¨åˆ›å»ºï¼Ÿ**

- æ¯ä¸ªé¡¹ç›®çš„é…ç½®ä¸åŒï¼ˆåœ°å€ã€Token å­˜å‚¨æ–¹å¼ï¼‰
- è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„ã€Œé¤å…è§„çŸ©ã€ï¼Œå·¥å…·æ— æ³•è‡ªåŠ¨ç”Ÿæˆ

---

### ğŸ“ `client/` å’Œ `core/` â€” åå¨å·¥å…·

**æ¯”å–»**ï¼šè¿™äº›æ˜¯**å¨æˆ¿é‡Œçš„é”…ç¢—ç“¢ç›†**ï¼š

- ä½ ä¸éœ€è¦ç›´æ¥ä½¿ç”¨å®ƒä»¬
- ä½†æ²¡æœ‰å®ƒä»¬ï¼Œå¨å¸ˆï¼ˆSDKï¼‰å°±æ²¡æ³•åšèœ

**å®é™…ä½œç”¨**ï¼š

- `client/` â€” HTTP è¯·æ±‚çš„åº•å±‚å®ç°
- `core/auth.gen.ts` â€” è®¤è¯å¤„ç†ï¼ˆBearer Tokenï¼‰
- `core/bodySerializer.gen.ts` â€” è¯·æ±‚ä½“åºåˆ—åŒ–ï¼ˆJSONã€FormDataï¼‰
- `core/params.gen.ts` â€” æŸ¥è¯¢å‚æ•°å¤„ç†

---

## è¿™äº›ä»£ç æ˜¯é€šç”¨çš„å—ï¼Ÿ

### âœ… å®Œå…¨é€šç”¨ï¼

ç”Ÿæˆçš„ä»£ç æ˜¯**çº¯ TypeScript**ï¼Œä¸ä¾èµ–ä»»ä½•æ¡†æ¶ï¼š

| æ¡†æ¶        | èƒ½ç”¨å—ï¼Ÿ | è¯´æ˜              |
| ----------- | -------- | ----------------- |
| **React**   | âœ…       | ç›´æ¥å¯¼å…¥ä½¿ç”¨      |
| **Vue 3**   | âœ…       | ç›´æ¥å¯¼å…¥ä½¿ç”¨      |
| **Angular** | âœ…       | ç›´æ¥å¯¼å…¥ä½¿ç”¨      |
| **Svelte**  | âœ…       | ç›´æ¥å¯¼å…¥ä½¿ç”¨      |
| **Node.js** | âœ…       | åç«¯ä¹Ÿèƒ½ç”¨ï¼      |
| **åŸç”Ÿ JS** | âœ…       | ç¼–è¯‘åå°±æ˜¯æ™®é€š JS |

### ä¸ºä»€ä¹ˆèƒ½é€šç”¨ï¼Ÿ

å› ä¸ºç”Ÿæˆçš„ä»£ç åªåšä¸¤ä»¶äº‹ï¼š

1. **å®šä¹‰ç±»å‹** â€” çº¯ TypeScriptï¼Œæ²¡æœ‰æ¡†æ¶ä»£ç 
2. **å°è£… fetch** â€” æµè§ˆå™¨åŸç”Ÿ APIï¼Œåˆ°å¤„éƒ½èƒ½ç”¨

```typescript
// è¿™æ®µä»£ç åœ¨ Reactã€Vueã€Angular é‡Œå†™æ³•å®Œå…¨ä¸€æ ·ï¼
import { loginUsersLoginPost, type UserResponse } from "@/api";

const result = await loginUsersLoginPost({
  body: { username: "alice", password: "secret" },
});
```

### æ¡†æ¶ç‰¹å®šçš„éƒ¨åˆ†

å”¯ä¸€éœ€è¦æ ¹æ®æ¡†æ¶è°ƒæ•´çš„æ˜¯**çŠ¶æ€ç®¡ç†**ï¼š

```typescript
// React ç”¨ useState/useContext
const [user, setUser] = useState<UserResponse | null>(null);

// Vue ç”¨ ref/reactive
const user = ref<UserResponse | null>(null);

// ä½† API è°ƒç”¨éƒ¨åˆ†å®Œå…¨ä¸€æ ·ï¼
const result = await getCurrentUserInfoUsersMeGet();
```

---

## ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›ä»£ç ï¼Ÿ

### ğŸ­ åœºæ™¯å¯¹æ¯”

#### âŒ ä¸ç”¨è‡ªåŠ¨ç”Ÿæˆï¼ˆæ‰‹å†™ä¸€åˆ‡ï¼‰

```typescript
// 1. æ‰‹åŠ¨å®šä¹‰ç±»å‹ï¼ˆå®¹æ˜“å’Œåç«¯å¯¹ä¸ä¸Šï¼‰
interface User {
  id: string;
  name: string; // åç«¯æ”¹æˆ username äº†ï¼ğŸ’¥ Bug!
}

// 2. æ‰‹åŠ¨å†™è¯·æ±‚ï¼ˆå®¹æ˜“å†™é”™ï¼‰
const response = await fetch("/user/register", {
  // è·¯å¾„å†™é”™äº†ï¼
  method: "POST", // åº”è¯¥æ˜¯ '/users/register'
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify(data),
});

// 3. æ‰‹åŠ¨è§£æå“åº”ï¼ˆå®¹æ˜“å¿˜è®°é”™è¯¯å¤„ç†ï¼‰
const user = await response.json();
```

**é—®é¢˜**ï¼š

- ğŸ˜° ç±»å‹å®šä¹‰å’Œåç«¯ä¸åŒæ­¥
- ğŸ˜° å®¹æ˜“æ‹¼é”™ URL æˆ– HTTP æ–¹æ³•
- ğŸ˜° ç»´æŠ¤æˆæœ¬é«˜ï¼ˆåç«¯æ”¹äº†å‰ç«¯è¦è·Ÿç€æ”¹ï¼‰

#### âœ… ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆ

```typescript
// ä¸€è¡Œæå®šï¼Œç±»å‹å®‰å…¨ï¼Œä¸ä¼šå‡ºé”™
const result = await registerUserUsersRegisterPost({
  body: { username: "alice", email: "a@b.com", password: "123" },
});

// ç¼–è¾‘å™¨è‡ªåŠ¨æç¤ºå­—æ®µ
// å†™é”™ä¼šç«‹åˆ»æ ‡çº¢
// åç«¯æ”¹äº†ï¼Ÿé‡æ–°ç”Ÿæˆå°±åŒæ­¥äº†ï¼
```

**ä¼˜åŠ¿**ï¼š

- ğŸ˜Š ç±»å‹æ°¸è¿œå’Œåç«¯ä¸€è‡´
- ğŸ˜Š ä¸å¯èƒ½å†™é”™ URL æˆ–æ–¹æ³•
- ğŸ˜Š åç«¯æ”¹äº† â†’ è·‘ä¸€æ¡å‘½ä»¤ â†’ å‰ç«¯è‡ªåŠ¨åŒæ­¥

---

## å®Œæ•´çš„å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å®Œæ•´å·¥ä½œæµç¨‹å›¾                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã€åç«¯å¼€å‘ã€‘                    ã€ä»£ç ç”Ÿæˆã€‘                 ã€å‰ç«¯å¼€å‘ã€‘
     â”‚                              â”‚                           â”‚
     â–¼                              â”‚                           â”‚
 å®šä¹‰ API è·¯ç”±                       â”‚                           â”‚
 (@app.post)                        â”‚                           â”‚
     â”‚                              â”‚                           â”‚
     â–¼                              â”‚                           â”‚
 å®šä¹‰æ•°æ®æ¨¡å‹                        â”‚                           â”‚
 (Pydantic)                         â”‚                           â”‚
     â”‚                              â”‚                           â”‚
     â–¼                              â”‚                           â”‚
 FastAPI è‡ªåŠ¨ç”Ÿæˆ                    â”‚                           â”‚
 OpenAPI è§„èŒƒ                       â”‚                           â”‚
     â”‚                              â”‚                           â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  è¿è¡Œå¯¼å‡ºè„šæœ¬    â”‚
                          â”‚  export_openapi â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                              â–¼
            docs/api/openapi.json        frontend/openapi.json
                    â”‚                              â”‚
                    â”‚                              â–¼
                    â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                    â”‚ npm run api:gen â”‚
                    â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                             â”‚
                    â”‚                             â–¼
                    â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                    â”‚  ç”Ÿæˆçš„ä»£ç ï¼š    â”‚
                    â”‚                    â”‚  types.gen.ts   â”‚
                    â”‚                    â”‚  sdk.gen.ts     â”‚
                    â”‚                    â”‚  client.gen.ts  â”‚
                    â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                             â”‚
                    â–¼                             â–¼
               ç‰ˆæœ¬æ§åˆ¶                      å‰ç«¯ç›´æ¥ä½¿ç”¨
              (git commit)                  (import { ... })
```

### å‘½ä»¤é€ŸæŸ¥è¡¨

| æ­¥éª¤            | å‘½ä»¤                                      | åœ¨å“ªè¿è¡Œ    |
| --------------- | ----------------------------------------- | ----------- |
| 1. å¯¼å‡º OpenAPI | `uv run python scripts/export_openapi.py` | `backend/`  |
| 2. ç”Ÿæˆ TS ä»£ç  | `npm run api:generate`                    | `frontend/` |
| 3. å¯åŠ¨å¼€å‘     | `npm run dev`                             | `frontend/` |

### Docker ç¯å¢ƒå‘½ä»¤

```bash
# åœ¨ Docker ä¸­å¯¼å‡º OpenAPI
docker compose -f docker-compose.dev.yml exec backend python scripts/export_openapi.py

# ç„¶ååœ¨æœ¬åœ°å‰ç«¯ç”Ÿæˆä»£ç 
cd frontend
npm run api:generate
```

---

## æ€»ç»“ï¼šä¸€å¥è¯è§£é‡Šæ¯ä¸ªæ–‡ä»¶

| æ–‡ä»¶            | ä¸€å¥è¯è§£é‡Š                      |
| --------------- | ------------------------------- |
| `types.gen.ts`  | ğŸ“‹ **èœå•å†Œ**ï¼šæ‰€æœ‰æ•°æ®é•¿ä»€ä¹ˆæ · |
| `sdk.gen.ts`    | ğŸ¤– **ç‚¹èœæœº**ï¼šä¸€é”®è°ƒç”¨ API     |
| `client.gen.ts` | ğŸ‘¨â€ğŸ³ **æœåŠ¡å‘˜**ï¼šå¸®ä½ å‘è¯·æ±‚       |
| `config.ts`     | ğŸ“œ **é¤å…è§„åˆ™**ï¼šåœ°å€ã€ä¼šå‘˜å¡   |
| `client/`       | ğŸ”§ **æœåŠ¡å‘˜çš„å·¥å…·**ï¼šåº•å±‚å®ç°   |
| `core/`         | ğŸ³ **å¨æˆ¿å·¥å…·**ï¼šåºåˆ—åŒ–ã€è®¤è¯   |

---

_æ¯”å–»è™½ç„¶ç®€å•ï¼Œä½†é“ç†å¾ˆæ·±åˆ»ï¼šå¥½çš„å·¥å…·è®©å¤æ‚çš„äº‹æƒ…å˜ç®€å•ï¼_

_æ–‡æ¡£åˆ›å»ºæ—¶é—´: 2025-12-04_
