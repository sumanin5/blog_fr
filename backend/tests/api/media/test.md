对于 backend/app/media/router.py 的接口测试，可以测试这些方面：

1. 文件上传接口 (POST /upload)

成功场景：上传各种格式文件（图片、视频、文档）

文件类型验证：不支持的文件格式

文件大小限制：超出大小限制的文件

认证测试：未登录用户上传

参数验证：usage、description、alt_text 参数

2. 公开文件接口 (GET /public)

无认证访问：游客可以获取公开文件

分页测试：page、page_size 参数

过滤测试：media_type、usage 过滤

空结果：没有公开文件时的响应

3. 文件列表接口 (GET /)

认证测试：需要登录才能访问

用户隔离：只能看到自己的文件

过滤和分页：各种查询参数

空列表：新用户没有文件时

4. 文件详情接口 (GET /{file_id})

权限测试：文件所有者可访问

权限拒绝：其他用户不能访问私有文件

文件不存在：404 错误

管理员权限：管理员可访问所有文件

5. 公开状态切换 (PATCH /{file_id}/publicity)

成功切换：所有者切换文件公开状态

权限拒绝：非所有者不能修改

参数验证：is_public 布尔值验证

6. 文件删除接口 (DELETE /{file_id})

成功删除：所有者删除文件

权限测试：非所有者不能删除

文件清理：确认磁盘文件和缩略图被删除

7. 文件访问接口 (GET /{file_id}/view)

权限控制：公开文件 vs 私有文件访问

文件下载：正确的文件内容和 headers

统计更新：view_count 增加

想先测试哪个接口？
